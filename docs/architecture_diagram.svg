<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 20px Arial; text-anchor: middle; fill: #333; }
      .component { font: 14px Arial; text-anchor: middle; fill: white; font-weight: bold; }
      .label { font: 12px Arial; text-anchor: middle; fill: #333; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .connection-label { font: 10px Arial; text-anchor: middle; fill: #666; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2" rx="10"/>
  
  <!-- Title -->
  <text x="400" y="30" class="title">Архитектура сервисов AutoShift</text>
  
  <!-- Docker Environment Container -->
  <rect x="50" y="60" width="700" height="480" fill="none" stroke="#0066cc" stroke-width="3" stroke-dasharray="10,5" rx="15"/>
  <text x="400" y="85" class="label" style="font-weight: bold; fill: #0066cc;">🐳 Docker Environment</text>
  
  <!-- Users -->
  <rect x="80" y="120" width="120" height="60" fill="#607d8b" stroke="#455a64" stroke-width="2" rx="8"/>
  <text x="140" y="140" class="component">👤 Users</text>
  <text x="140" y="155" class="component" style="font-size: 11px;">Clients</text>
  
  <!-- Nginx (API Gateway) -->
  <rect x="280" y="120" width="140" height="80" fill="#ff9800" stroke="#f57c00" stroke-width="3" rx="8"/>
  <text x="350" y="140" class="component">🌐 Nginx</text>
  <text x="350" y="155" class="component" style="font-size: 12px;">API Gateway</text>
  <text x="350" y="170" class="component" style="font-size: 11px;">:80, :443</text>
  <text x="350" y="185" class="component" style="font-size: 11px;">Load Balancer</text>
  
  <!-- Django Application -->
  <rect x="500" y="120" width="140" height="80" fill="#2196f3" stroke="#1976d2" stroke-width="3" rx="8"/>
  <text x="570" y="140" class="component">🐍 Django API</text>
  <text x="570" y="155" class="component" style="font-size: 12px;">Backend</text>
  <text x="570" y="170" class="component" style="font-size: 11px;">:8000</text>
  <text x="570" y="185" class="component" style="font-size: 11px;">REST + Dashboard</text>
  
  <!-- Shift Optimizer -->
  <rect x="280" y="280" width="140" height="80" fill="#4caf50" stroke="#388e3c" stroke-width="3" rx="8"/>
  <text x="350" y="300" class="component">⚙️ Shift Optimizer</text>
  <text x="350" y="315" class="component" style="font-size: 12px;">gRPC Service</text>
  <text x="350" y="330" class="component" style="font-size: 11px;">:50051</text>
  <text x="350" y="345" class="component" style="font-size: 11px;">Optimization</text>
  
  <!-- PostgreSQL Database -->
  <ellipse cx="570" cy="320" rx="70" ry="40" fill="#9c27b0" stroke="#7b1fa2" stroke-width="3"/>
  <text x="570" y="310" class="component">🐘 PostgreSQL</text>
  <text x="570" y="325" class="component" style="font-size: 12px;">Database</text>
  <text x="570" y="340" class="component" style="font-size: 11px;">:5432</text>
  
  <!-- Static Files -->
  <rect x="500" y="420" width="100" height="50" fill="#607d8b" stroke="#455a64" stroke-width="2" rx="5"/>
  <text x="550" y="440" class="component" style="font-size: 11px;">📄 Static Files</text>
  <text x="550" y="455" class="component" style="font-size: 10px;">CSS, JS, Images</text>
  
  <!-- Media Files -->
  <rect x="620" y="420" width="100" height="50" fill="#607d8b" stroke="#455a64" stroke-width="2" rx="5"/>
  <text x="670" y="440" class="component" style="font-size: 11px;">🖼️ Media Files</text>
  <text x="670" y="455" class="component" style="font-size: 10px;">User Uploads</text>
  
  <!-- Arrows and connections -->
  
  <!-- Users to Nginx -->
  <line x1="200" y1="150" x2="280" y2="150" class="arrow"/>
  <text x="240" y="145" class="connection-label">HTTP/HTTPS</text>
  
  <!-- Nginx to Django -->
  <line x1="420" y1="160" x2="500" y2="160" class="arrow"/>
  <text x="460" y="155" class="connection-label">Proxy</text>
  
  <!-- Django to PostgreSQL -->
  <line x1="570" y1="200" x2="570" y2="280" class="arrow"/>
  <text x="590" y="240" class="connection-label">SQL</text>
  
  <!-- Django to Optimizer -->
  <line x1="500" y1="180" x2="420" y2="300" class="arrow"/>
  <text x="450" y="230" class="connection-label">gRPC</text>
  
  <!-- Optimizer to PostgreSQL -->
  <line x1="420" y1="320" x2="500" y2="320" class="arrow" stroke-dasharray="5,5"/>
  <text x="460" y="315" class="connection-label">Read Data</text>
  
  <!-- Django to Static Files -->
  <line x1="550" y1="200" x2="550" y2="420" class="arrow"/>
  
  <!-- Django to Media Files -->
  <line x1="590" y1="200" x2="670" y2="420" class="arrow"/>
</svg> 